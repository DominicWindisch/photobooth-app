"use strict";(globalThis["webpackChunkphotobooth_app_frontend"]=globalThis["webpackChunkphotobooth_app_frontend"]||[]).push([[706],{2706:(t,e,o)=>{o.r(e),o.d(e,{default:()=>S});var n=o(59835);function u(t,e,o,u,i,s){const a=(0,n.up)("router-view"),r=(0,n.up)("RouteAfterTimeout"),p=(0,n.up)("q-page-container"),l=(0,n.up)("q-layout");return(0,n.wg)(),(0,n.j4)(l,{view:"hHh lpR fFf"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(a),this.uiSettingsStore.uiSettings.show_automatic_slideshow_timeout>0?((0,n.wg)(),(0,n.j4)(r,{key:0,route:"/slideshow/random",timeout_ms:1e3*this.uiSettingsStore.uiSettings.show_automatic_slideshow_timeout,warning_message:t.$t("MSG_WARN_BEFORE_AUTO_SLIDESHOW")},null,8,["timeout_ms","warning_message"])):(0,n.kq)("",!0)])),_:1})])),_:1})}o(72879);var i=o(15639),s=o(96694),a=o(28339),r=o(46038),p=o(19302);const l={__name:"RouteAfterTimeout",props:{route:{type:String,required:!0},timeout_ms:{type:Number,required:!0},warning_message:{type:String,default:"Auto-starting slideshow... Click anywhere to stay on this page."},warning_time_ms:{type:Number,default:1e4}},setup(t){const e=(0,p.Z)(),o=(0,a.tv)(),u=t,{idle:i,lastActive:s,reset:l}=(0,r.c3l)(u.timeout_ms),m=(0,r.Z93)({interval:1e3}),_=(0,n.Fl)((()=>u.timeout_ms-(m.value-s.value))),g=(0,n.Fl)((()=>u.warning_time_ms>_.value));let h=null;function c(){h=e.notify({progress:!0,message:u.warning_message,type:"info",multiline:!0,timeout:_.value,icon:"slideshow"})}function d(){h&&h()}return(0,n.Jd)((()=>{d()})),(0,n.YP)(g,(t=>{t?c():d()})),(0,n.YP)(i,(t=>{t&&(d(),o.push({path:u.route}))})),(t,e)=>((0,n.wg)(),(0,n.iD)("div"))}},m=l,_=m,g=(0,n.aZ)({name:"MainLayout",components:{RouteAfterTimeout:_},computed:{},setup(){const t=(0,i.B)(),e=(0,s.R)(),o=(0,a.tv)();return t.$subscribe(((t,e)=>{"counting"==e.state&&"/"!=o.path&&(console.log("counting state received, pushing to index page to countdown"),o.push("/")),"present_capture"==e.state&&o.push({path:"/itempresenter"}),"approve_capture"==e.state&&e.ask_user_for_approval&&o.push({path:"/itemapproval"})})),{uiSettingsStore:e}}});var h=o(11639),c=o(20249),d=o(12133),w=o(69984),f=o.n(w);const v=(0,h.Z)(g,[["render",u]]),S=v;f()(g,"components",{QLayout:c.Z,QPageContainer:d.Z})}}]);